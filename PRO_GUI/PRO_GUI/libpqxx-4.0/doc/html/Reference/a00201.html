<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>libpqxx: String conversion</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libpqxx&#160;<span id="projectnumber">4.0</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('a00201.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#namespaces">Namespaces</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">String conversion</div>  </div>
</div>
<div class="contents">
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00088.html">pqxx::string_traits&lt; T &gt;</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Traits class for use in string conversions.  <a href="a00088.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html">pqxx::string_traits&lt; const char * &gt;</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">String traits for C-style string ("pointer to const char")  <a href="a00091.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00089.html">pqxx::string_traits&lt; char * &gt;</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">String traits for non-const C-style string ("pointer to char")  <a href="a00089.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00090.html">pqxx::string_traits&lt; char[N]&gt;</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">String traits for C-style string constant ("array of char")  <a href="a00090.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00092.html">pqxx::string_traits&lt; const char[N]&gt;</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">String traits for "array of const char.".  <a href="a00092.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00094.html">pqxx::string_traits&lt; std::string &gt;</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00093.html">pqxx::string_traits&lt; const std::string &gt;</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00095.html">pqxx::string_traits&lt; std::stringstream &gt;</a></td></tr>
<tr><td colspan="2"><h2><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00194.html">pqxx::internal</a></td></tr>

<p><tr><td class="mdescLeft">&#160;</td><td class="mdescRight"><p>Private namespace for libpqxx's internal use; do not access. </p>
<br/></td></tr>
</p>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00201.html#ga9c0b6d727ce7535938d64a819cf527b0">PQXX_DECLARE_STRING_TRAITS_SPECIALIZATION</a>(T)</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00201.html#gad1cc702bf191d535e40a2d5b84042e1c">pqxx::from_string</a> (const char Str[], T &amp;Obj)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempt to convert postgres-generated string to given built-in type.  <a href="#gad1cc702bf191d535e40a2d5b84042e1c"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00201.html#gacd9090fef37cdca192a4e8204ef895c4">pqxx::from_string</a> (const char Str[], T &amp;Obj, size_t)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Conversion with known string length (for strings that may contain nuls)  <a href="#gacd9090fef37cdca192a4e8204ef895c4"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;&gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00201.html#gaf11e0dd40ce4ff2094cc37337a972eed">pqxx::from_string&lt; std::string &gt;</a> (const char Str[], std::string &amp;Obj, size_t len)</td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00201.html#gadadff252c93dc630108f1667a75342b7">pqxx::from_string</a> (const std::string &amp;Str, T &amp;Obj)</td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00201.html#ga5c1f04f36ada2b9ef338fc9d91fd4d4b">pqxx::from_string</a> (const std::stringstream &amp;Str, T &amp;Obj)</td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;&gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00201.html#gadf364687d64294fccdb7229fbcd4e871">pqxx::from_string</a> (const std::string &amp;Str, std::string &amp;Obj)</td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">std::string&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00201.html#ga73d2bdd0531ce4f30db5ff11b4a8eaed">pqxx::to_string</a> (const T &amp;Obj)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert built-in type to a readable string that PostgreSQL will understand.  <a href="#ga73d2bdd0531ce4f30db5ff11b4a8eaed"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>For purposes of communication with the server, values need to be converted from and to a human-readable string format that (unlike the various functions and templates in the C and C++ standard libraries) is not sensitive to locale settings and internationalization. This section contains functionality that is used extensively by libpqxx itself, but is also available for use by other programs. </p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ga9c0b6d727ce7535938d64a819cf527b0"></a><!-- doxytag: member="strconv.hxx::PQXX_DECLARE_STRING_TRAITS_SPECIALIZATION" ref="ga9c0b6d727ce7535938d64a819cf527b0" args="(T)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PQXX_DECLARE_STRING_TRAITS_SPECIALIZATION</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">T</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span>PQXX_LIBEXPORT string_traits&lt;T&gt;                       \
{                                                                       \
  <span class="keyword">typedef</span> T subject_type;                                               \
  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *name() { <span class="keywordflow">return</span> #T; }                              \
  <span class="keyword">static</span> <span class="keywordtype">bool</span> has_null() { <span class="keywordflow">return</span> <span class="keyword">false</span>; }                              \
  <span class="keyword">static</span> <span class="keywordtype">bool</span> is_null(T) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }                              \
  <span class="keyword">static</span> T null()                                                       \
    { internal::throw_null_conversion(name()); <span class="keywordflow">return</span> subject_type(); } \
  <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="a00201.html#gad1cc702bf191d535e40a2d5b84042e1c" title="Attempt to convert postgres-generated string to given built-in type.">from_string</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> Str[], T &amp;Obj);                    \
  <span class="keyword">static</span> PGSTD::string <a class="code" href="a00201.html#ga73d2bdd0531ce4f30db5ff11b4a8eaed" title="Convert built-in type to a readable string that PostgreSQL will understand.">to_string</a>(T Obj);                                \
};
</pre></div>
</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gad1cc702bf191d535e40a2d5b84042e1c"></a><!-- doxytag: member="pqxx::from_string" ref="gad1cc702bf191d535e40a2d5b84042e1c" args="(const char Str[], T &amp;Obj)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void pqxx::from_string </td>
          <td>(</td>
          <td class="paramtype">const char&#160;</td>
          <td class="paramname"><em>Str</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T &amp;&#160;</td>
          <td class="paramname"><em>Obj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Attempt to convert postgres-generated string to given built-in type. </p>
<p>If the form of the value found in the string does not match the expected type, e.g. if a decimal point is found when converting to an integer type, the conversion fails. Overflows (e.g. converting "9999999999" to a 16-bit C++ type) are also treated as errors. If in some cases this behaviour should be inappropriate, convert to something bigger such as <code>long</code> <code>int</code> first and then truncate the resulting value.</p>
<p>Only the simplest possible conversions are supported. No fancy features such as hexadecimal or octal, spurious signs, or exponent notation will work. No whitespace is stripped away. Only the kinds of strings that come out of PostgreSQL and out of <a class="el" href="a00176.html#a35be8b6c29c0272a015f356089c1d2ed" title="Convert a field to a string.">to_string()</a> can be converted. </p>

<p>References <a class="el" href="a00176.html#aab2b52ca97031dff1e8a6a7f654c04ea">pqxx::from_string()</a>.</p>

</div>
</div>
<a class="anchor" id="gacd9090fef37cdca192a4e8204ef895c4"></a><!-- doxytag: member="pqxx::from_string" ref="gacd9090fef37cdca192a4e8204ef895c4" args="(const char Str[], T &amp;Obj, size_t)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void pqxx::from_string </td>
          <td>(</td>
          <td class="paramtype">const char&#160;</td>
          <td class="paramname"><em>Str</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T &amp;&#160;</td>
          <td class="paramname"><em>Obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Conversion with known string length (for strings that may contain nuls) </p>
<p>This is only used for strings, where embedded nul bytes should not determine the end of the string.</p>
<p>For all other types, this just uses the regular, nul-terminated version of <a class="el" href="a00176.html#aab2b52ca97031dff1e8a6a7f654c04ea" title="Convert a field&#39;s string contents to another type.">from_string()</a>. </p>

<p>References <a class="el" href="a00176.html#aab2b52ca97031dff1e8a6a7f654c04ea">pqxx::from_string()</a>.</p>

</div>
</div>
<a class="anchor" id="gadadff252c93dc630108f1667a75342b7"></a><!-- doxytag: member="pqxx::from_string" ref="gadadff252c93dc630108f1667a75342b7" args="(const std::string &amp;Str, T &amp;Obj)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void pqxx::from_string </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>Str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T &amp;&#160;</td>
          <td class="paramname"><em>Obj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>References <a class="el" href="a00176.html#aab2b52ca97031dff1e8a6a7f654c04ea">pqxx::from_string()</a>.</p>

</div>
</div>
<a class="anchor" id="ga5c1f04f36ada2b9ef338fc9d91fd4d4b"></a><!-- doxytag: member="pqxx::from_string" ref="ga5c1f04f36ada2b9ef338fc9d91fd4d4b" args="(const std::stringstream &amp;Str, T &amp;Obj)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void pqxx::from_string </td>
          <td>(</td>
          <td class="paramtype">const std::stringstream &amp;&#160;</td>
          <td class="paramname"><em>Str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T &amp;&#160;</td>
          <td class="paramname"><em>Obj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>References <a class="el" href="a00176.html#aab2b52ca97031dff1e8a6a7f654c04ea">pqxx::from_string()</a>.</p>

</div>
</div>
<a class="anchor" id="gadf364687d64294fccdb7229fbcd4e871"></a><!-- doxytag: member="pqxx::from_string" ref="gadf364687d64294fccdb7229fbcd4e871" args="(const std::string &amp;Str, std::string &amp;Obj)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void pqxx::from_string </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>Str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>Obj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="gaf11e0dd40ce4ff2094cc37337a972eed"></a><!-- doxytag: member="pqxx::from_string&lt; std::string &gt;" ref="gaf11e0dd40ce4ff2094cc37337a972eed" args="(const char Str[], std::string &amp;Obj, size_t len)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void pqxx::from_string&lt; std::string &gt; </td>
          <td>(</td>
          <td class="paramtype">const char&#160;</td>
          <td class="paramname"><em>Str</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>Obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ga73d2bdd0531ce4f30db5ff11b4a8eaed"></a><!-- doxytag: member="pqxx::to_string" ref="ga73d2bdd0531ce4f30db5ff11b4a8eaed" args="(const T &amp;Obj)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::string pqxx::to_string </td>
          <td>(</td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>Obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Convert built-in type to a readable string that PostgreSQL will understand. </p>
<p>No special formatting is done, and any locale settings are ignored. The resulting string will be human-readable and in a format suitable for use in SQL queries. </p>

<p>References <a class="el" href="a00176.html#a35be8b6c29c0272a015f356089c1d2ed">pqxx::to_string()</a>.</p>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="footer">Generated on Sun Nov 27 2011 18:14:12 for libpqxx by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </li>
    </ul>
  </div>

</body>
</html>
