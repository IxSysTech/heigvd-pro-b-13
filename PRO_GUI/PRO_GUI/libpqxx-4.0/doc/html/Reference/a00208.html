<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>libpqxx: Notifications and Receivers</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libpqxx&#160;<span id="projectnumber">4.0</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('a00208.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Notifications and Receivers</div>  </div>
</div>
<div class="contents">

<p>"Observer" base class for notifications.  
<a href="#details">More...</a></p>
<table class="memberdecls">
</table>
<p>"Observer" base class for notifications. </p>
<p>To listen on a notification issued using the NOTIFY command, derive your own class from <a class="el" href="a00062.html">notification_receiver</a> and define its function-call operator to perform whatever action you wish to take when the given notification arrives. Then create an object of that class and pass it to your connection. DO NOT use raw SQL to listen for notifications, or your attempts to listen won't be resumed when a connection fails--and you'll have no way to notice.</p>
<p>Notifications never arrive inside a transaction, not even in a nontransaction. Therefore, you are free to open a transaction of your own inside your receiver's function invocation operator.</p>
<p>Notifications you are listening for may arrive anywhere within libpqxx code, but be aware that <b>PostgreSQL</b> <b>defers</b> <b>notifications</b> <b>occurring</b> <b>inside</b> <b>transactions</b>. (This was done for excellent reasons; just think about what happens if the transaction where you happen to handle an incoming notification is later rolled back for other reasons). So if you're keeping a transaction open, don't expect any of your receivers on the same connection to be notified.</p>
<p>(For very similar reasons, outgoing notifications are also not sent until the transaction that sends them commits.)</p>
<p>Multiple receivers on the same connection may listen on a notification of the same name. An incoming notification is processed by invoking all receivers (zero or more) of the same name. </p>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="footer">Generated on Sun Nov 27 2011 18:14:12 for libpqxx by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </li>
    </ul>
  </div>

</body>
</html>
